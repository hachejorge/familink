<div #nodeElement
    class="flex flex-col items-center text-center
    transition-transform duration-300 ease-in-out
    group relative overflow-visible"
>
    <div class="relative w-24 h-24 sm:w-32 sm:h-32 ">
        <img 
            class="w-full h-full rounded-full object-cover border-3 border-emerald-700 shadow-lg
            group-hover:shadow-2xl transition-shadow duration-300 ease-in-out"
            [src]="person!.imageUrl"
            [alt]="'Foto de perfil de ' + person!.firstName"
        >
        <!-- Overlay animado -->
        <label 
          class="absolute inset-0 rounded-full overflow-hidden cursor-pointer"
        >
          <div 
            class="w-full h-full flex flex-col items-center justify-center text-white bg-black/50 
                  group-hover:animate-slide-up 
                  opacity-0 group-hover:opacity-100 transition-opacity duration-500"
          >
           <!-- Mostrar iconos si es una persona real -->
            <ng-container *ngIf="realPerson; else placeholderIcons">
            <i class="fa-solid fa-pen-to-square text-2xl mb-4 hover:scale-120" title="Modificar datos de {{ person!.firstName }}" (click)="onEditPerson()"></i>
            <i class="fa-solid fa-trash text-2xl hover:scale-120" title="Eliminar a {{ person!.firstName }}" (click)="onDeletePerson()"></i>
            </ng-container>

            <!-- Mostrar icono alternativo si NO es una persona real -->
            <ng-template #placeholderIcons>
                <i class="fa-solid fa-square-plus text-3xl hover:scale-120" title="AÃ±adir nueva persona" (click)="onCreatePerson()"></i>            
            </ng-template>
          </div>
        </label>

    </div>
    <h3 *ngIf="realPerson; else placeholderName"
        class="-mt-3 text-lg font-medium text-emerald-700 bg-lime-200 border-2 rounded-full px-2 relative z-10">
    {{ person!.firstName }}
    </h3>

    <ng-template #placeholderName>
    <div class="-mt-3 text-lg px-2 relative z-10 invisible select-none">
        Placeholder
    </div>
    </ng-template>
</div>
